<?php
/** @var \Magenest\GoogleShopping\Block\Adminhtml\System\Config\Form\GetAccessToken $block */
$buttonLabel  = $block->getButtonLabel();
$buttonHtmlId = $block->getHtmlId();
$login = $block->getUrlAuth();
?>
<a data-ui-id="button-get-authorization-instagram" class="action-default scalable action-save action-secondary"
   id="<?= $block->escapeHtml($buttonHtmlId) ?>"
   style="cursor: pointer;"
>
    <?= $block->escapeHtml($buttonLabel) ?>
</a>
<script>
    require(['jquery'], function ($) {
        $('#<?=$block->escapeHtmlAttr($buttonHtmlId)?>').on('click', function () {
            if ($(this).parents('form').valid()) {
                $('body').loader('show');
                window.location.href = '<?= $login ?>';
            }
        })
    })
</script>
